.box {
    @include padding(2, 2, 3);
    @include margin-bottom(2);

    background: rgba(color(black), .5);
    background: -moz-linear-gradient(left, rgba(color(black), .5) 0%, rgba(color(black), 0.77) 50%, rgba(color(black), .5) 100%);
    background: -webkit-gradient(left top, right top, color-stop(0%, rgba(color(black), .5)), color-stop(50%, rgba(color(black), 0.77)), color-stop(100%, rgba(color(black), .5)));
    background: -webkit-linear-gradient(left, rgba(color(black), .5) 0%, rgba(color(black), 0.77) 50%, rgba(color(black), .5) 100%);
    background: -o-linear-gradient(left, rgba(color(black), .5) 0%, rgba(color(black), 0.77) 50%, rgba(color(black), .5) 100%);
    background: -ms-linear-gradient(left, rgba(color(black), .5) 0%, rgba(color(black), 0.77) 50%, rgba(color(black), .5) 100%);
    background: linear-gradient(to right, rgba(color(black), .5) 0%, rgba(color(black), 0.77) 50%, rgba(color(black), .5) 100%);

    font-weight: 400;

    .box {
        @include margin-bottom(1);
        background-color: transparent;
    }

    h1,
    h2,
    h3 {
        @include margin(0);
    }

    p,
    blockquote {
        @include font($weight: 400, $size: map-get($text-size, medium), $height: 1.5);
    }

    p {
        white-space: pre-wrap;

        a {
            font-weight: bold;
        }
    }
}

.boxes {
    @include flex($direction: row, $justify: space-between, $wrap: wrap);
    @include mobile-only() {
        &.boxes-2 {
            flex-direction: column;
        }
    }

    >.box {
        @include flex($direction: column, $align: stretch, $justify: stretch);
        @include padding(2, 0, 0);

        flex-grow: 1;
        width: 100%;

        @include mobile-only() {
            width: 100%;
        }

        > div {
            @include flex($direction: column, $align: stretch, $justify: space-between);

            flex-grow: 1;

            >p,
            >.boxes {
                flex-grow: 1;
                flex-shrink: 1;

                &:last-child {
                    flex-grow: 0;
                }
            }

            > :last-child {
                @include padding-bottom(5);
            }
        }

        iframe,
        .image {
            @include margin(0);
            width: 100%;
        }

        .image {
            position: relative;
            display: block;
            overflow: hidden;

            height: 400px;

            img {
                @include position-absolute($top: 50%, $left: 50%);

                max-width: 120%;
                min-width: 100%;
                min-height: 100%;

                transform: translate(-50%, -50%);
                transition: max-width .3s ease-in-out;
            }

            &:hover {
                img {
                    max-width: 115%;
                }
            }

            @include mobile-only() {
                max-height: 250px;

                img {
                    max-height: 400px;
                }
            }
        }

        h2,
        .testimonial,
        p,
        .links {
            @include margin(0, 2, 3);

            &:last-child {
                @include margin-bottom(0);
            }
        }

        .links {
            @include margin-left(0);
            @include margin-right(0);

            .links-title {
                @include margin-left(3);
            }
            a {
                @include margin(0);
            }
        }

        h2 {
            position: relative;

            .date {
                @include position-absolute($top: 50%, $right: 0);
                @include font($size: map-get($text-size, small), $weight: 400);

                transform: translateY(-50%);
            }
        }

        .tracks,
        .videos {
            h3 {
                @include margin-left(2);
            }
            &.videos {
                h3 {
                    @include margin-top(3);
                }
            }
            &.tracks {
                @include padding-bottom(4);
                @include padding-right(2);
            }

            ol,
            ul {
                @include margin(1, 0, 0, 5);
                @include padding(0);

                li {
                    @include margin-bottom(.5);
                    @include font($size: map-get($text-size, small), $weight: 400);
                }
            }
            ul li {
                @include margin-right(2);
                display: inline-block;
            }
        }

        p {
            white-space: pre-wrap;
        }

        .box {
            @include padding-bottom(0);
            background: transparent;

            h2,
            .testimonial,
            p,
            .buttons,
            .boxes {
                @include margin-x(0);
            }
        }

        .buttons,
        .boxes {
            @include padding(1, 2, 3);

            width: 100%;
            background: rgba(color(black), .2);

            &+.boxes {
                background: transparent;
            }
        }

        p {
            font-size: map-get($text-size, small);
        }

        .testimonial {
            @include padding-left(8);

            position: relative;

            &:before {
                @include position-absolute($top: -5px, $left: 10px);
                @include font($size: map-get($text-size, xx-large), $align: left, $height: 1);

                content: '\00bb';

                display: block;
                width: 15px;
                height: 40px;
            }

            blockquote {
                @include margin(0);
                @include padding(0);
                @include font($size: map-get($text-size, medium), $weight: 400, $style: italic);

                display: block;

                &+.source {
                    @include margin-left(0);
                    @include margin-top(.5);

                    display: block;

                    font-size: map-get($text-size, small);

                    &:before {
                        content: '\2014';
                    }
                }
            }
        }

        .buttons {
            @include padding-y(2);
            @include margin-bottom(3);

            text-align: center;
        }

        p {
            @include font($size: map-get($text-size, medium), $height: 1.5);
        }
    }

    &.boxes-1>.box {
        width: 100%;

        .testimonial {
            @include margin-bottom(0);
        }
    }
    &.boxes-2>.box {
        width: 49%;

        @include mobile-only() {
            width: 100%;
        }
    }

    &.boxes-3>.box {
        width: 32%;

        @include mobile-only() {
            width: 100%;
        }
    }
}